:root{
  --brand-primary: #0B3D2E;
  --brand-contrast: #EAFBF5;
  --glow-accent: #00E6A6;
  --muted: #9CA6A1;
  --bg: #0b0b0b;
  --card-bg: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  --radius: 14px;
  --shadow-soft: 0 6px 24px rgba(3,7,11,0.6);
  --motion-fast: 160ms;
  --motion-medium: 360ms;
  --motion-slow: 680ms;
  --glow-strong: 0 8px 28px rgba(11,61,46,0.28), 0 0 32px rgba(0,230,166,0.12);
}

/* Light theme */
:root[data-theme="light"]{
  --bg: #FBFEFC;
  --card-bg: linear-gradient(180deg, #FFFFFF, #F5FFFA);
  --brand-contrast: #04241c;
  --muted: #38554b;
  --shadow-soft: 0 6px 20px rgba(6,20,16,0.06);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  :root{
    --motion-fast: 0ms;
    --motion-medium: 0ms;
    --motion-slow: 0ms;
  }
  * { animation-duration: 0s !important; transition-duration: 0s !important; }
}

/* Page base */
html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;}
body{background:var(--bg);color:var(--brand-contrast);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}
.main-content{max-width:920px;margin:0 auto;padding:18px;box-sizing:border-box;}
.lead{color:var(--muted);font-size:1rem;line-height:1.4;}

/* Cinematic intro container */
.intro-wrap{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 30% 20%, rgba(11,61,46,0.12), transparent 20%), rgba(0,0,0,0.35);backdrop-filter: blur(6px);z-index:1200;transition:opacity var(--motion-medium) ease, transform var(--motion-medium) ease;}
.intro-hidden{opacity:0;pointer-events:none;transform:scale(.98);}

/* Compass container (placeholder styling) */
.compass{
  width: min(84vw,360px);
  height: min(84vw,360px);
  border-radius:50%;
  background:var(--card-bg);
  display:flex;align-items:center;justify-content:center;
  box-shadow:var(--shadow-soft);
  position:relative;
  transition:transform var(--motion-medium) cubic-bezier(.2,.9,.3,1), box-shadow var(--motion-medium);
  will-change:transform;
  outline: none;
}
.compass .arrow{
  position:absolute;top:28%;width:6px;height:40%;background:var(--glow-accent);border-radius:3px;box-shadow:var(--glow-strong);transform-origin:50% 85%;transition:transform var(--motion-medium) ease;
}

/* Glow highlight utility */
.glow{
  box-shadow: var(--glow-strong);
  transition: box-shadow var(--motion-medium);
}

/* Micro animations for buttons and cards */
.btn{
  background:var(--brand-primary);
  color:var(--brand-contrast);
  padding:10px 14px;border-radius:10px;border:0;cursor:pointer;box-shadow:0 8px 18px rgba(3,7,11,0.4);transition:transform var(--motion-fast), box-shadow var(--motion-fast);
}
.btn:active{transform:translateY(1px) scale(.997);}
.btn:focus{outline:3px solid rgba(0,230,166,0.14);outline-offset:3px;}

/* Basic mode card */
.mode-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:18px;}
.mode-card{background:var(--card-bg);padding:12px;border-radius:12px;box-shadow:var(--shadow-soft);border:1px solid rgba(255,255,255,0.02);}
.mode-title{font-weight:600;margin:0 0 8px 0;}
.activity{display:flex;align-items:center;gap:10px;padding:8px;border-radius:10px;margin-bottom:8px;cursor:pointer;transition:transform var(--motion-fast);border:1px solid transparent;}
.activity input[type="checkbox"]{transform:scale(1.1);margin-right:6px;}
.activity .explain{font-size:0. nine rem;color:var(--muted);}

/* Selected activity glow */
.activity.selected{box-shadow:var(--glow-strong);border-color:rgba(0,230,166,0.12);transform:translateY(-2px);}

/* Popup and transition utilities */
.fade-in{animation:fadeIn var(--motion-medium) ease both;}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px);}to{opacity:1;transform:none;}}

/* Ad slot */
.ad-slot{
  height:64px;max-width:720px;margin:20px auto;border-radius:12px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:.95rem;padding:10px;box-shadow:0 6px 18px rgba(2,6,5,0.2);
}

/* Responsive */
@media (min-width:720px){
  .main-content{padding:28px;}
  .compass{width:360px;height:360px;}
}

/* Small helper for hidden but accessible */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0;}
