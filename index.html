<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="The Reset Compass - Find your wellness mode and choose a short activity to reset" />
  <meta name="theme-color" content="#0B3D2E" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Reset Compass" />
  <meta name="mobile-web-app-capable" content="yes" />
  <link rel="apple-touch-icon" href="assets/images/compass-192.png" />
  <title>The Reset Compass</title>

  <!-- Adsense (kept per previous requests) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9323656111800895"
     crossorigin="anonymous"></script>

  <link rel="stylesheet" href="style.css?v=5" />
  <link rel="stylesheet" href="css/cinematic.css?v=5" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/svg+xml" href="assets/images/compass.svg" />

  <script src="script.js?v=5" defer></script>
  <script src="js/modes-loader.js" defer></script>
  <script src="js/modes-ui.js" defer></script>
  <script src="js/intro.js" defer></script>
</head>
<body class="page-compass">
  <header class="app-header" role="banner">
    <div class="app-header-top">
      <a class="home-link" id="homeBtn" href="./index.html" data-action="home" aria-label="Home - Reset Compass">
        <h1 class="app-title">The Reset Compass</h1>
      </a>

      <div class="nav-dropdown">
        <button id="navMenuToggle" aria-haspopup="true" aria-expanded="false" aria-controls="navDropdown" aria-label="Open menu" class="nav-ellipsis">‚ò∞</button>
        <div id="navDropdown" class="nav-dropdown-menu" role="menu" aria-hidden="true">
          <button class="nav-dropdown-item" data-action="history" role="menuitem">History</button>
          <button class="nav-dropdown-item" data-action="ratings-reviews" role="menuitem">Ratings & Reviews</button>
          <button class="nav-dropdown-item" data-action="feedback" role="menuitem">Send Feedback</button>
          <a class="nav-dropdown-item" data-action="about" role="menuitem" href="about.html">About</a>
          <button class="nav-dropdown-item theme-toggle" data-action="toggle-theme" role="menuitem"><span id="themeToggleText">üåô Dark Mode</span></button>
        </div>
      </div>
    </div>
  </header>

  <main class="main-content">
    <!-- PWA INSTALL BANNER -->
    <div id="pwaInstallBanner" class="pwa-banner" style="display:none;" role="alert">
      <div class="pwa-banner-content">
        <div class="pwa-banner-icon">üì±</div>
        <div class="pwa-banner-text">
          <strong>Install The Reset Compass</strong>
          <p>Add to your home screen for quick access anytime!</p>
        </div>
      </div>
      <div class="pwa-banner-actions">
        <button id="pwaInstallBtn" class="btn-primary btn-sm">Install</button>
        <button id="pwaDismissBtn" class="btn-secondary btn-sm">Not Now</button>
      </div>
    </div>

    <section class="page-section page-section--compass" aria-label="Compass section">
      <div class="streak-row">
        <div id="streakContainer" class="streak-container" aria-hidden="false">
          <div id="streakBadge" class="streak-badge" title="Daily streak: days in a row">Daily streak: üî• 0</div>
          <div id="achievementBadges" class="achievement-badges"></div>
        </div>
      </div>

      <div class="compass-wrap">
        <div class="compass-container" role="img" aria-label="Compass shape with four wedges" id="compassContainer">
          <img src="assets/images/compass.svg" alt="" aria-hidden="true" class="compass-image" id="compassImage" />
          <div id="compassWedges" class="compass-wedges" aria-hidden="true"></div>
          <div class="compass-arrow" id="compassArrow" aria-hidden="true" aria-label="Compass arrow">
            <svg viewBox="0 0 24 60" width="60" height="150" role="img" aria-hidden="true">
              <defs>
                <linearGradient id="arrowGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
                  <stop offset="50%" style="stop-color:#e8e8e8;stop-opacity:0.95" />
                  <stop offset="100%" style="stop-color:#1a1a1a;stop-opacity:0.9" />
                </linearGradient>
                <filter id="arrowGlow">
                  <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
                  <feMerge>
                    <feMergeNode in="coloredBlur"/>
                    <feMergeNode in="SourceGraphic"/>
                  </feMerge>
                </filter>
              </defs>
              <path d="M12 5 L18 30 L12 55 L6 30 Z" 
                    fill="url(#arrowGradient)" 
                    opacity="0.95" 
                    filter="url(#arrowGlow)" 
                    stroke="#ffffff" 
                    stroke-width="0.8" />
              <circle cx="12" cy="30" r="4" fill="#000" opacity="0.9" />
              <circle cx="12" cy="30" r="2.5" fill="#fff" opacity="1" />
            </svg>
          </div>
          <div id="compassRing" class="compass-ring" aria-hidden="false"></div>
        </div>
      </div>
    </section>

    <section class="page-section page-section--info" aria-hidden="false">
      <p class="hero-intro">Find your current wellness mode: pick a wedge inside the compass or choose a card below.</p>
    </section>

    <section class="page-section page-section--modes" aria-label="Wellness Modes">
      <h2 class="section-title">Choose Your Mode</h2>

      <div class="mode-grid" id="modesGrid" role="list" aria-live="polite"></div>
      <div class="quick-wins-block" role="region" aria-label="Quick Wins section">
        <div class="quick-wins-header">
          <div class="quick-wins-icon">‚ö°</div>
          <div class="quick-wins-title-section">
            <h3 class="quick-wins-title">Quick Wins</h3>
            <p class="quick-wins-subtitle">Tiny actions. Instant impact.</p>
          </div>
        </div>
        <p class="quick-wins-description">
          Feeling stuck? Overwhelmed? Sometimes all it takes is <strong>one small action</strong> to break the cycle. 
          Quick Wins are powerful micro-moments designed to shift your energy, lift your mood, or refocus your mind <em>right now</em>.
        </p>
        <div class="quick-wins-features">
          <div class="quick-win-feature">
            <span class="feature-icon">üéØ</span>
            <span class="feature-text">Takes less than 2 minutes</span>
          </div>
          <div class="quick-win-feature">
            <span class="feature-icon">üí´</span>
            <span class="feature-text">Instant mood boost</span>
          </div>
          <div class="quick-win-feature">
            <span class="feature-icon">‚ôæÔ∏è</span>
            <span class="feature-text">Use anytime, no limit</span>
          </div>
        </div>
        <button id="quickWinsLink" class="nav-btn quick-wins-cta" data-action="quick-wins">
          <span class="cta-icon">‚ö°</span>
          <span class="cta-text">Choose Your Quick Win</span>
          <span class="cta-arrow">‚Üí</span>
        </button>
        <p class="quick-wins-encouragement">You deserve this moment. Take it.</p>
      </div>

      <div class="rate-cta-card" onclick="document.querySelector('[data-action=ratings-reviews]').click()">
        <div class="rate-cta-content">
          <div class="rate-cta-icon">‚≠ê</div>
          <div class="rate-cta-text">
            <h3>Enjoying The Reset Compass?</h3>
            <p>Rate the app and share your experience!</p>
          </div>
        </div>
        <button class="rate-cta-btn" type="button">Rate Now</button>
      </div>
    </section>

    <footer class="app-footer">
      <div class="ad-slot" aria-label="Advertisement">
        <p class="ad-placeholder">Ad Placeholder</p>
      </div>
      <div class="footer-legal">
        <p class="footer-text"><small>&copy; 2025 Evolution of Wellness - The Reset Compass</small></p>
        <div class="footer-links">
          <button class="footer-link" data-action="privacy-policy">Privacy Policy</button>
          <span class="footer-separator">‚Ä¢</span>
          <button class="footer-link" data-action="terms">Terms of Service</button>
        </div>
      </div>
    </footer>
  </main>

  <!-- MODE DIALOG -->
  <dialog id="modeDialog" class="mode-dialog" aria-labelledby="modeDialogTitle">
    <div class="dialog-content">
      <button class="dialog-close" aria-label="Close dialog">&times;</button>

      <div class="mode-header" id="modeDialogHeader">
        <div class="accent" id="modeAccent" aria-hidden="true"></div>
        <div class="mode-head-inner">
          <h2 id="modeDialogTitle" class="mode-title"></h2>
          <p id="dialogModeDescription" class="mode-description"></p>
        </div>
      </div>

      <div class="mode-actions">
        <h3>Activities</h3>
        <ul id="dialogQuickWins" class="quick-wins-list" role="list"></ul>
        <p class="mode-note-help">Select an activity and add optional notes before completing.</p>
      </div>

      <div class="dialog-actions">
        <button id="startResetBtn" class="btn-primary" disabled>Complete Selected</button>
        <button class="btn-secondary dialog-cancel">Cancel</button>
      </div>
    </div>
  </dialog>

  <!-- QUICK WINS DIALOG -->
  <dialog id="quickWinsDialog" class="mode-dialog" aria-labelledby="quickWinsTitle">
    <div class="dialog-content">
      <button class="dialog-close" aria-label="Close dialog">&times;</button>
      <h2 id="quickWinsTitle">Quick Wins</h2>
      <p class="mode-description">One-step actions you can do now to quickly change your focus, energy, or mood. Tap to select and complete immediately.</p>
      <ul id="globalQuickWins" class="quick-wins-list" role="list"></ul>

      <div class="dialog-actions">
        <button id="startQuickWinBtn" class="btn-primary" disabled>Complete Selected</button>
        <button class="btn-secondary dialog-cancel">Close</button>
      </div>
    </div>
  </dialog>

  <!-- HISTORY DIALOG -->
  <dialog id="historyDialog" class="history-dialog" aria-labelledby="historyDialogTitle">
    <div class="dialog-content">
      <button class="dialog-close" aria-label="Close dialog">&times;</button>
      <h2 id="historyDialogTitle">Your Reset History</h2>

      <div id="historyStats" class="history-stats"></div>
      <div class="history-chart-row">
        <canvas id="historyDonut" width="260" height="260" aria-label="Mode distribution chart"></canvas>
      </div>
      <div id="historyTimeline" class="history-timeline"></div>

      <div class="dialog-actions">
        <button id="exportHistoryBtn" class="btn-secondary">Export JSON</button>
        <button id="clearHistoryBtn" class="btn-danger">Clear History</button>
        <button class="btn-secondary dialog-cancel">Close</button>
      </div>
    </div>
  </dialog>

  <!-- COME BACK DIALOG -->
  <dialog id="comeBackDialog" class="mode-dialog" aria-labelledby="comeBackTitle">
    <div class="dialog-content">
      <h2 id="comeBackTitle">Nice work!</h2>
      <p id="comeBackMsg">You've completed a mode today. Come back tomorrow to continue your streak. Quick Wins are still available anytime.</p>
      <div class="dialog-actions">
        <button class="btn-primary dialog-close">OK</button>
      </div>
    </div>
  </dialog>

  <!-- FEEDBACK DIALOG -->
  <dialog id="feedbackDialog" class="mode-dialog" aria-labelledby="feedbackTitle">
    <div class="dialog-content">
      <button class="dialog-close" aria-label="Close dialog">&times;</button>
      <h2 id="feedbackTitle">Send Feedback</h2>
      <p class="mode-description">Your feedback helps make The Reset Compass better. Share your thoughts, ideas, or report issues.</p>
      
      <form name="feedback" method="POST" data-netlify="true" data-netlify-honeypot="bot-field" class="feedback-form">
        <input type="hidden" name="form-name" value="feedback" />
        <p hidden>
          <label>Don't fill this out: <input name="bot-field" /></label>
        </p>
        
        <div class="form-group">
          <label for="feedbackName">Name (optional)</label>
          <input type="text" id="feedbackName" name="name" class="form-input" placeholder="Your name">
        </div>
        
        <div class="form-group">
          <label for="feedbackEmail">Email (optional)</label>
          <input type="email" id="feedbackEmail" name="email" class="form-input" placeholder="your@email.com">
        </div>
        
        <div class="form-group">
          <label for="feedbackType">Feedback Type</label>
          <select id="feedbackType" name="type" class="form-input" required>
            <option value="">Select type...</option>
            <option value="bug">Bug Report</option>
            <option value="feature">Feature Request</option>
            <option value="improvement">Improvement Idea</option>
            <option value="general">General Feedback</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="feedbackMessage">Your Feedback *</label>
          <textarea id="feedbackMessage" name="message" class="form-textarea" rows="6" required placeholder="Share your thoughts..."></textarea>
        </div>
        
        <div class="dialog-actions">
          <button type="submit" class="btn-primary">Send Feedback</button>
          <button type="button" class="btn-secondary dialog-cancel">Cancel</button>
        </div>
      </form>
    </div>
  </dialog>

  <!-- RATINGS & REVIEWS DIALOG -->
  <dialog id="ratingsDialog" class="mode-dialog ratings-dialog" aria-labelledby="ratingsTitle">
    <div class="dialog-content">
      <button class="dialog-close" aria-label="Close dialog">&times;</button>
      <h2 id="ratingsTitle">‚≠ê Rate & Review</h2>
      <p class="mode-description">Share your experience with The Reset Compass. Your review will be visible to other users.</p>
      
      <form name="reviews" method="POST" data-netlify="true" data-netlify-honeypot="bot-field" class="review-form" id="reviewForm">
        <input type="hidden" name="form-name" value="reviews" />
        <p hidden>
          <label>Don't fill this out: <input name="bot-field" /></label>
        </p>
        
        <div class="form-group">
          <label>Your Rating *</label>
          <div class="star-rating" id="starRating">
            <button type="button" class="star" data-rating="1">‚òÖ</button>
            <button type="button" class="star" data-rating="2">‚òÖ</button>
            <button type="button" class="star" data-rating="3">‚òÖ</button>
            <button type="button" class="star" data-rating="4">‚òÖ</button>
            <button type="button" class="star" data-rating="5">‚òÖ</button>
          </div>
          <input type="hidden" name="rating" id="ratingValue" required />
        </div>
        
        <div class="form-group">
          <label for="reviewName">Your Name *</label>
          <input type="text" id="reviewName" name="name" class="form-input" placeholder="Your name" required>
        </div>
        
        <div class="form-group">
          <label for="reviewText">Your Review *</label>
          <textarea id="reviewText" name="review" class="form-textarea" rows="4" required placeholder="What do you think about The Reset Compass?"></textarea>
        </div>
        
        <div class="dialog-actions">
          <button type="submit" class="btn-primary">Submit Review</button>
          <button type="button" class="btn-secondary dialog-cancel">Cancel</button>
        </div>
      </form>
      
      <div class="reviews-section">
        <h3>Recent Reviews</h3>
        <div id="reviewsList" class="reviews-list">
          <p class="no-reviews">No reviews yet. Be the first to review!</p>
        </div>
      </div>
    </div>
  </dialog>

  <!-- PRIVACY POLICY DIALOG -->
  <dialog id="privacyDialog" class="mode-dialog" aria-labelledby="privacyTitle">
    <div class="dialog-content">
      <button class="dialog-close" aria-label="Close dialog">&times;</button>
      <h2 id="privacyTitle">Privacy Policy</h2>
      <div class="legal-content">
        <p><strong>Last Updated:</strong> January 2025</p>
        
        <h3>Data We Collect</h3>
        <p>The Reset Compass stores minimal data locally on your device using browser storage (localStorage). This includes:</p>
        <ul>
          <li>Your reset history (activities completed, dates, and optional notes)</li>
          <li>Daily streak count and longest streak</li>
          <li>Theme preference (light or dark mode)</li>
          <li>Last mode completion date</li>
          <li>Achievement progress</li>
          <li>Reviews you submit (stored locally and optionally sent to our server)</li>
        </ul>
        
        <h3>How We Use Your Data</h3>
        <p>All data is stored locally on your device and is used solely to enhance your experience with the app. We do not transmit your personal wellness data to external servers. Reviews you choose to submit may be stored on our servers to display to other users.</p>
        
        <h3>Data Sharing</h3>
        <p>We do not sell, trade, or otherwise transfer your personal information to third parties. The app uses Google AdSense for advertisements, which may collect anonymous usage data according to Google's privacy policy.</p>
        
        <h3>Your Rights</h3>
        <p>You can clear your local data at any time using the "Clear History" button in the History dialog. This will permanently delete all locally stored wellness data.</p>
        
        <h3>Contact</h3>
        <p>If you have questions about this Privacy Policy, please use the "Send Feedback" feature in the app menu.</p>
      </div>
      <div class="dialog-actions">
        <button class="btn-primary dialog-close">Close</button>
      </div>
    </div>
  </dialog>

  <!-- TERMS OF SERVICE DIALOG -->
  <dialog id="termsDialog" class="mode-dialog" aria-labelledby="termsTitle">
    <div class="dialog-content">
      <button class="dialog-close" aria-label="Close dialog">&times;</button>
      <h2 id="termsTitle">Terms of Service</h2>
      <div class="legal-content">
        <p><strong>Last Updated:</strong> January 2025</p>
        
        <h3>Acceptance of Terms</h3>
        <p>By accessing and using The Reset Compass, you accept and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use this application.</p>
        
        <h3>Medical Disclaimer</h3>
        <p><strong>Important:</strong> The Reset Compass is designed for wellness and self-care guidance only. It is not intended to be medical advice, diagnosis, or treatment. This app should not replace professional medical consultation or mental health care.</p>
        <p>If you are experiencing a medical or mental health emergency, please contact emergency services or a qualified healthcare provider immediately.</p>
        
        <h3>Use of the Service</h3>
        <p>You agree to use The Reset Compass only for lawful purposes and in accordance with these Terms. The activities and suggestions provided are for general wellness purposes and may not be suitable for everyone.</p>
        
        <h3>Intellectual Property</h3>
        <p>The content, features, and functionality of The Reset Compass are owned by Evolution of Wellness and are protected by copyright, trademark, and other intellectual property laws.</p>
        
        <h3>Limitation of Liability</h3>
        <p>Evolution of Wellness shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of or inability to use the service. You acknowledge that you are responsible for your own health decisions.</p>
        
        <h3>Changes to Terms</h3>
        <p>We reserve the right to modify these terms at any time. Changes will be effective immediately upon posting. Your continued use of the app constitutes acceptance of any changes.</p>
        
        <h3>Governing Law</h3>
        <p>These Terms shall be governed by and construed in accordance with the laws of the United States, without regard to its conflict of law provisions.</p>
        
        <h3>Contact</h3>
        <p>Questions about these Terms should be sent using the "Send Feedback" feature in the app menu.</p>
      </div>
      <div class="dialog-actions">
        <button class="btn-primary dialog-close">Close</button>
      </div>
    </div>
  </dialog>
</body>
</html>

<system-reminder>
Whenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.
</system-reminder>
