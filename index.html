<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The Reset Compass</title>

  <link rel="icon" href="splash-icon.png" type="image/png">

  <!-- Styles (v128: guided session modal) -->
  <link rel="stylesheet" href="main.css?v=128" />
</head>
<body>
  <div id="app-root" class="app-root" aria-hidden="false">
    <header class="hero" id="hero">
      <img class="hero-icon" src="splash-icon.png" alt="Reset Compass logo" width="64" height="64">
      <div class="hero-text">
        <h1 class="hero-title">The Reset Compass</h1>
        <p class="hero-sub">A small reset, every day.</p>
      </div>
    </header>

    <nav class="site-nav" role="navigation" aria-label="Main navigation">
      <ul class="nav-links" role="menubar">
        <li role="none"><a role="menuitem" href="#home" data-hash="#home">Home</a></li>
        <li role="none"><a role="menuitem" href="#quick" data-hash="#quick">Quick Wins</a></li>
        <li role="none"><a role="menuitem" href="#history" data-hash="#history">History</a></li>
        <li role="none"><a role="menuitem" href="#about" data-hash="#about">About</a></li>
      </ul>
    </nav>

    <main class="page" id="page">
      <div id="streak" class="streak" aria-live="polite">
        <span id="streak-emoji" aria-hidden="true">ðŸ”¥</span>
        <span id="streak-text">Streak:</span> <span id="streak-count">0</span> days
      </div>

      <section id="how-to" class="card" aria-labelledby="howto-heading">
        <h2 id="howto-heading">How to Use This App</h2>
        <p>Select a mode from the compass or the buttons below. Complete an activity. Log it. Build your streak.</p>
      </section>

      <section id="compass-container" class="compass-wrap" aria-label="Mode compass">
        <svg id="compass" viewBox="0 0 200 200" role="img" aria-labelledby="compassTitle" tabindex="0" preserveAspectRatio="xMidYMid meet">
          <title id="compassTitle">Mode compass â€” choose a mode</title>
          <defs>
            <linearGradient id="growingGrad"><stop offset="0" stop-color="#2FA0FF"/><stop offset="1" stop-color="#007BFF"/></linearGradient>
            <linearGradient id="groundedGrad"><stop offset="0" stop-color="#3CA56A"/><stop offset="1" stop-color="#246B45"/></linearGradient>
            <linearGradient id="driftingGrad"><stop offset="0" stop-color="#E6C450"/><stop offset="1" stop-color="#DAA520"/></linearGradient>
            <linearGradient id="survivingGrad"><stop offset="0" stop-color="#E78B88"/><stop offset="1" stop-color="#D9534F"/></linearGradient>
          </defs>

          <g transform="rotate(-45 100 100)">
            <path class="wedge" d="M100,100 L100,6 A94,94 0 0,1 194,100 L128,100 A28,28 0 0,0 100,72 Z"
                  fill="url(#growingGrad)" stroke="#F7FBF8" stroke-width="3" data-mode="growing" tabindex="0"/>
            <path class="wedge" d="M100,100 L194,100 A94,94 0 0,1 100,194 L100,128 A28,28 0 0,0 128,100 Z"
                  fill="url(#groundedGrad)" stroke="#F7FBF8" stroke-width="3" data-mode="grounded" tabindex="0"/>
            <path class="wedge" d="M100,100 L100,194 A94,94 0 0,1 6,100 L72,100 A28,28 0 0,0 100,128 Z"
                  fill="url(#driftingGrad)" stroke="#F7FBF8" stroke-width="3" data-mode="drifting" tabindex="0"/>
            <path class="wedge" d="M100,100 L6,100 A94,94 0 0,1 100,6 L100,72 A28,28 0 0,0 72,100 Z"
                  fill="url(#survivingGrad)" stroke="#F7FBF8" stroke-width="3" data-mode="surviving" tabindex="0"/>
          </g>

          <circle cx="100" cy="100" r="44" fill="#F7FBF8" stroke="rgba(0,0,0,0.02)"/>
          <g id="needle-group" style="transform-origin:100px 100px;">
            <polygon id="compass-rose" points="100,58 116,100 100,142 84,100" fill="rgba(6,56,39,0.92)" stroke="rgba(255,255,255,0.03)" stroke-width="0.5"/>
            <circle id="compass-pivot" cx="100" cy="100" r="6" fill="rgba(6,56,39,0.95)"/>
            <rect id="compass-tail" x="98.5" y="104" width="3" height="26" rx="1.5" fill="rgba(6,56,39,0.88)" />
          </g>

          <text data-mode="growing" x="100" y="36" class="compass-label in-wedge" style="text-anchor:middle;pointer-events:none;">Growing</text>
          <text data-mode="grounded" x="156" y="100" class="compass-label in-wedge" style="text-anchor:middle;pointer-events:none;">Grounded</text>
          <text data-mode="drifting" x="100" y="164" class="compass-label in-wedge" style="text-anchor:middle;pointer-events:none;">Drifting</text>
          <text data-mode="surviving" x="44" y="100" class="compass-label in-wedge" style="text-anchor:middle;pointer-events:none;">Surviving</text>
        </svg>
      </section>

      <section id="mode-buttons" class="buttons">
        <button type="button" class="mode-button growing" data-mode="growing" data-desc="Push yourself to new heights">
          <div class="btn-content"><div class="btn-title">Growing</div><div class="btn-desc">Push yourself to new heights</div></div>
        </button>

        <button type="button" class="mode-button grounded" data-mode="grounded" data-desc="Stay centered and productive">
          <div class="btn-content"><div class="btn-title">Grounded</div><div class="btn-desc">Stay centered and productive</div></div>
        </button>

        <button type="button" class="mode-button drifting" data-mode="drifting" data-desc="Gently regain focus and energy">
          <div class="btn-content"><div class="btn-title">Drifting</div><div class="btn-desc">Gently regain focus and energy</div></div>
        </button>

        <button type="button" class="mode-button surviving" data-mode="surviving" data-desc="Just get through the day">
          <div class="btn-content"><div class="btn-title">Surviving</div><div class="btn-desc">Just get through the day</div></div>
        </button>
      </section>

      <div id="content" class="content-area" aria-live="polite"></div>
    </main>
  </div>

  <!-- Guided Session Modal (v128, hidden by default) -->
  <div id="session-modal" class="session-modal" role="dialog" aria-modal="true" aria-labelledby="session-modal-title" style="display:none;">
    <div class="session-modal-overlay"></div>
    <div class="session-modal-content">
      <div class="session-modal-header">
        <h2 id="session-modal-title" class="session-modal-title">Guided Session</h2>
        <button type="button" class="session-modal-close" aria-label="Close session modal">&times;</button>
      </div>
      <div class="session-modal-body">
        <div class="session-timer" id="session-timer">
          <div class="session-timer-display" id="session-timer-display">00:00</div>
          <div class="session-timer-label">Time remaining</div>
        </div>
        <div class="session-checklist" id="session-checklist">
          <h3 class="session-checklist-title">Session Steps</h3>
          <ul class="session-checklist-items" id="session-checklist-items"></ul>
        </div>
        <div class="session-controls">
          <button type="button" class="session-btn session-btn-start" id="session-btn-start">Start Timer</button>
          <button type="button" class="session-btn session-btn-stop" id="session-btn-stop" style="display:none;">Stop Timer</button>
          <button type="button" class="session-btn session-btn-complete" id="session-btn-complete" style="display:none;">Complete Session</button>
        </div>
  <!-- Session modal (hidden until Start session) -->
  <div id="session-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="session-title" hidden>
    <div class="modal-panel" role="document" aria-describedby="session-body" tabindex="-1">
      <div class="modal-header">
        <h3 id="session-title">Session</h3>
        <button id="session-close" class="close" aria-label="Close session">âœ•</button>
      </div>

      <div id="session-body" class="modal-body" tabindex="0"></div>

      <div class="modal-controls">
        <button id="session-start" class="btn-primary">Start</button>
        <button id="session-cancel" class="btn-link">Cancel</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app.js?v=128"></script>
</body>
</html>