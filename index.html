<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>The Reset Compass ‚Ä¢ v1.0.6</title>

<!-- PWA -->
<link rel="manifest" href="manifest.webmanifest?v=106">
<link rel="apple-touch-icon" href="icons/icon-192.png">
<meta name="theme-color" content="#1C3B34"/>

<!-- Meta -->
<meta name="description" content="Choose your mode and get quick, realistic steps that match your energy today. Take your health into your own hands immediately.">
<meta name="referrer" content="strict-origin-when-cross-origin">
<meta http-equiv="Permissions-Policy" content="interest-cohort=()">
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

<!-- Social preview -->
<meta property="og:title" content="The Reset Compass">
<meta property="og:description" content="Quick, realistic steps that match your energy today.">
<meta property="og:type" content="website">
<meta property="og:image" content="icons/icon-512.png">

<!-- Analytics (Plausible) -->
<script async defer data-domain="reset.evolutionofwellness.com" src="https://plausible.io/js/script.js?v=106"></script>

<style>
:root{
  --brand:#1C3B34; --beige:#F0E8D9; --ink:#1A1A1A; --muted:#6b6b6b; --border:#e7e7e7;
  --surv:#A94747; --drift:#E6B450; --ground:#3B755F; --grow:#4C7EDC;
}
*{box-sizing:border-box}
html{-webkit-tap-highlight-color:transparent}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Inter,Roboto,sans-serif;background:#fff;color:var(--ink)}
a,button{outline-offset:3px}
a:focus-visible,button:focus-visible{outline:2px solid #0a7f63}

header{position:sticky;top:0;background:var(--brand);color:#fff;padding:12px 16px;z-index:5}
header h1{margin:0;font-size:16px;line-height:1;text-align:center}
.nav{display:flex;gap:8px;justify-content:center;margin-top:8px;flex-wrap:wrap}
.nav a,.nav button.install-btn{
  color:#fff;text-decoration:none;opacity:.9;padding:6px 10px;border-radius:999px;border:1px solid transparent;
  background:transparent;font:inherit;cursor:pointer
}
.nav a.active{opacity:1;border-color:#fff}
.nav button.install-btn{border-color:#fff;opacity:1}

.wrap{max-width:860px;margin:0 auto;padding:16px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
.card{background:#fff;border:1px solid var(--border);border-radius:12px;padding:14px;box-shadow:0 1px 2px rgba(0,0,0,.04)}
.card h3{margin:.2rem 0 .3rem}
.pill{display:inline-flex;align-items:center;gap:6px;background:var(--beige);color:var(--brand);padding:4px 8px;border-radius:999px;font-size:12px}
.btn{display:inline-block;background:var(--brand);color:#fff;border:0;border-radius:12px;padding:12px 16px;font-weight:700;text-decoration:none;cursor:pointer;touch-action:manipulation}
.btn.ghost{background:transparent;color:var(--brand);border:2px solid var(--brand)}
.btn.subtle{background:#eef1f0;color:var(--brand)}
footer{padding:24px;color:#666;text-align:center;font-size:12px}
textarea,input[type="text"]{width:100%;border:1px solid var(--border);border-radius:10px;padding:10px 12px;font-size:16px;background:#fff}
textarea{min-height:92px;resize:vertical}

/* Compass */
.compass-wrap{display:flex;flex-direction:column;align-items:center}
svg.compass{width:340px;max-width:92vw;height:auto;display:block}
.compass text{font-weight:800;letter-spacing:.2px}
.center-tip{color:var(--muted);text-align:center;font-size:14px;margin:6px 0 12px}
.wedge{transition:opacity .15s ease, filter .15s ease; cursor:pointer}
.wedge:active{opacity:.28;filter:saturate(1.2)}

/* Mode buttons */
.mode-buttons{display:grid;grid-template-columns:repeat(2,minmax(140px,1fr));gap:10px;max-width:420px;margin:0 auto 8px}
.mode-btn{display:flex;align-items:center;justify-content:center;border-radius:12px;padding:12px 10px;font-weight:700;border:2px solid transparent;cursor:pointer;touch-action:manipulation}
.mode-btn span{font-size:16px}
.mode-btn.surv{background:#F7E5E5;border-color:var(--surv);color:var(--surv)}
.mode-btn.drift{background:#FFF0D5;border-color:var(--drift);color:var(--drift)}
.mode-btn.ground{background:#E6F0EC;border-color:var(--ground);color:var(--ground)}
.mode-btn.grow{background:#E6EEFF;border-color:var(--grow);color:var(--grow)}
.mode-btn:active{transform:scale(.98)}

/* Instruction panel */
.instructions{max-width:520px;margin:12px auto 4px;border-left:4px solid var(--brand);padding:12px 14px;background:#fafafa;border-radius:8px}
.instructions h2{margin:0 0 6px;font-size:20px;color:var(--brand)}
.instructions p{margin:4px 0 8px}

/* Stats bar */
.stats{display:flex;gap:10px;justify-content:center;align-items:center;margin:8px auto 4px;flex-wrap:wrap}
.stat{background:#f6f9f8;border:1px solid var(--border);border-radius:999px;padding:6px 10px;font-size:13px;color:var(--brand)}

/* Welcome, Toasts, History */
#popup{position:fixed;inset:0;background:rgba(0,0,0,.55);display:flex;align-items:center;justify-content:center;z-index:10}
#popup .box{background:#fff;color:var(--brand);padding:22px;border-radius:12px;max-width:340px;text-align:center;border:1px solid var(--border)}
#popup .box p{margin:.5rem 0}
#toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:#1c3b34;color:#fff;padding:10px 14px;border-radius:999px;font-size:14px;opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:9}
#toast.show{opacity:1}

.filters{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
.badge{display:inline-block;border:1px solid var(--border);padding:3px 8px;border-radius:999px;font-size:12px;color:var(--muted)}
.log-item{border-bottom:1px dashed var(--border);padding:10px 0}
.log-item:last-child{border-bottom:0}
.note{white-space:pre-wrap}

/* Sticky back bar */
.sticky-back{position:sticky;bottom:-1px;background:#fff;border-top:1px solid var(--border);padding:10px;display:flex;justify-content:center;z-index:3}
</style>
</head>
<body>
<header role="banner">
  <h1>The Reset Compass</h1>
  <div class="nav" role="navigation" aria-label="Primary">
    <a id="nav-home" href="#/home">Compass</a>
    <a id="nav-wins" href="#/wins">Quick Wins</a>
    <a id="nav-history" href="#/history">History</a>
    <a id="nav-about" href="#/about">About</a>
    <button class="install-btn" id="installBtn" hidden aria-label="Install app">Install</button>
  </div>
</header>

<div class="wrap" id="app" role="main"></div>
<div id="toast" role="status" aria-live="polite"></div>

<footer>¬© 2025 Evolution of Wellness LLC ‚Ä¢ v1.0.6 ‚Ä¢ For educational purposes only. Not medical advice.</footer>

<script type="module">
/* ---------- Updated text replacements ---------- */
const NOTE_PLACEHOLDER = "Write a note about what you did or noticed.";
const NOTE_HINT = "Write a short note. You‚Äôll see it in your History.";

/* ---------- Data ---------- */
const Modes=[{id:1,name:'Surviving',desc:"Running on empty. Use the simplest steps to feel better.",color:'#A94747',icon:'ü©∫'},
{id:2,name:'Drifting',desc:'Okay but unfocused. Reconnect with what matters.',color:'#E6B450',icon:'üß≠'},
{id:3,name:'Grounded',desc:'Steady. Keep your rhythm without burnout.',color:'#3B755F',icon:'üåø'},
{id:4,name:'Growing',desc:'High energy. Move forward with intent.',color:'#4C7EDC',icon:'üöÄ'}];

const Tools=[
{id:1,mode_id:1,name:'3-Minute Reset',tag:'Quick mental and physical reboot',icon:'‚è±Ô∏è',summary:'Interrupt shutdown with one fast, full-body reset.',instructions:'1) Pause. 2) Breathe in 3s and out 6s for 2 minutes. 3) Seated reach and gentle twist for 1 minute.'},
{id:2,mode_id:1,name:'Bare Minimum Menu',tag:'Eat simply when energy is low',icon:'üçé',summary:'Choose 1 protein, 1 carb, and 1 fruit or veg you already have.',instructions:'Examples: eggs and toast with an apple. Yogurt and granola with berries. Rotisserie chicken with rice and a bagged salad. Pick one and eat.'},
{id:3,mode_id:1,name:'Energy Budget',tag:'Spend your energy wisely',icon:'‚ö°',summary:'Split today into Must, Might, and No. Protect your fuel.',instructions:'Fill Must first with up to three items. If energy rises, do one Might. Everything else is No today.'},
{id:4,mode_id:2,name:'Attention Anchor',tag:'Refocus scattered energy',icon:'üéØ',summary:'Pick one word for how you want to feel today.',instructions:'Choose a word like Calm, Clear, Steady, Present, or Light. Say it out loud. Return to it when distracted.'},
{id:5,mode_id:2,name:'Daily Reconnect',tag:'One prompt, one minute',icon:'üìù',summary:'Stay present with one honest sentence.',instructions:'Pick a prompt like ‚ÄúWhat gave me energy?‚Äù ‚ÄúWhat felt easiest?‚Äù or ‚ÄúWhat did I avoid?‚Äù Say or write one line.'},
{id:6,mode_id:2,name:'Weekly Waypoint',tag:'Give your week direction',icon:'üìÖ',summary:'A five-minute reset on your natural week start.',instructions:'1) Name your current mode. 2) Choose one weekly anchor like outside three times. 3) Set a reminder for next check-in.'},
{id:7,mode_id:3,name:'Energy Multiplier',tag:'Get more from what works',icon:'üîã',summary:'Identify one to three actions that give you energy and repeat them.',instructions:'List what already helps like sunlight, a short walk, or earlier lights. Repeat daily this week.'},
{id:8,mode_id:3,name:'Habit Reflector',tag:'Notice what‚Äôs working',icon:'ü™û',summary:'A short weekly scan to protect helpful routines.',instructions:'Write: what felt good, a pattern to repeat, and what throws me off. Add one guardrail.'},
{id:9,mode_id:3,name:'Keystone Builder',tag:'One small habit, big ripple',icon:'üß±',summary:'Choose one keystone habit and make it automatic.',instructions:'Use: After I [trigger], I will [habit] in [location]. Check it off each day.'},
{id:10,mode_id:3,name:'Boundary Booster',tag:'Protect energy and focus',icon:'üõ°Ô∏è',summary:'Keep growth from getting hijacked by distractions.',instructions:'Pick three priorities and two mini boundaries. Write a reminder: ‚ÄúMy energy is worth protecting because‚Ä¶‚Äù Optional daily check.'},
{id:11,mode_id:4,name:'Expansion Map',tag:'Grow with intention',icon:'üå±',summary:'Define one area to expand, one to sustain, and one to rest.',instructions:'Choose: Expand like movement minutes. Sustain like sleep window. Rest like pausing an obligation. Review weekly.'},
{id:12,mode_id:4,name:'Skill Sprint',tag:'10-day micro-upgrade',icon:'üö¥',summary:'A tiny focused sprint that raises your ceiling without burnout.',instructions:'Pick one ten-minute skill or habit like mobility, meal prep, or breathwork. Start a timer, do it, mark done.'},
{id:13,mode_id:4,name:'Progress Pulse',tag:'Celebrate and iterate',icon:'üìà',summary:'A quick weekly review to lock in gains and choose the next nudge.',instructions:'Log your best win, biggest drain, and one tweak for next week. End with ‚ÄúNext nudge = ‚Ä¶‚Äù'},
{id:14,mode_id:4,name:'Support Loop',tag:'Grow with a buddy',icon:'ü§ù',summary:'Light accountability with one person.',instructions:'Choose a buddy. Agree on one weekly touch like a Friday text or Sunday walk. Add a reminder. Celebrate small wins.'},
];

const QuickWins=[
 {title:'Drink water',desc:'One full glass now. Feel the shift.',icon:'üíß'},
 {title:'Step outside',desc:'Three minutes of daylight or fresh air.',icon:'üåû'},
 {title:'Stretch overhead',desc:'Thirty seconds. Shoulders down, jaw loose.',icon:'ü§∏'},
 {title:'Phone-free pause',desc:'Put it in another room for five minutes.',icon:'üìµ'},
 {title:'Tidy one surface',desc:'Desk, bag, or car door pocket.',icon:'üßΩ'},
 {title:'Message a friend',desc:'One genuine check-in.',icon:'üí¨'}
];

/* ---------- Helpers ---------- */
const app=document.getElementById('app');
const toastEl=document.getElementById('toast');
const showToast=(msg)=>{toastEl.textContent=msg;toastEl.classList.add('show');setTimeout(()=>toastEl.classList.remove('show'),1400);};

/* ---------- Replace the note text globally ---------- */
function replaceNoteText(html){
  return html.replace(/jot a sentence about what you did or noticed/i, NOTE_PLACEHOLDER)
             .replace(/One sentence is enough/i, NOTE_HINT);
}

/* ---------- Continue your script below ---------- */
// (the rest of the JavaScript remains identical to v1.0.5 except for these text changes)

/* ---------- ROUTER & INIT ---------- */
window.addEventListener('load',()=>{
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js?v=106').catch(() => {});
  }
});
</script>
</body>
</html>
