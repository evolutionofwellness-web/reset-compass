<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="The Reset Compass - Find your wellness mode and choose the right reset activity" />
  <meta name="theme-color" content="#00AFA0" />
  <title>The Reset Compass</title>

  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/svg+xml" href="assets/images/compass.svg" />

  <script src="script.js" defer></script>
</head>
<body class="page-compass">
  <!-- Title row: The Reset Compass sits above the nav (not underlined) -->
  <header class="app-header" role="banner">
    <div class="app-header-top">
      <a class="home-link" id="homeBtn" href="./index.html" aria-label="Home â€” Reset Compass">
        <h1 class="app-title">The Reset Compass</h1>
      </a>
    </div>

    <nav class="app-nav" role="navigation" aria-label="Primary">
      <div class="nav-left"></div>

      <div class="nav-center" id="navCenter">
        <button id="quickWinsBtn" class="nav-btn" aria-label="Quick Wins">Quick Wins</button>
        <button id="historyBtn" class="nav-btn" aria-label="View History">History</button>
        <a class="nav-btn" id="aboutBtn" href="about.html" aria-label="About">About</a>
      </div>

      <div class="nav-right">
        <button id="themeToggle" class="nav-btn" aria-pressed="false" aria-label="Toggle theme">
          <span id="themeIcon" aria-hidden="true">ðŸŒ™</span>
        </button>
      </div>
    </nav>
  </header>

  <main class="main-content">
    <section class="hero" aria-label="Compass Hero">
      <div id="streakContainer" class="streak-container" aria-hidden="false">
        <div id="streakBadge" class="streak-badge" title="Daily streak: days in a row">Daily streak: ðŸ”¥ 0</div>
      </div>

      <div class="compass-container" role="img" aria-label="Compass directions">
        <img src="assets/images/compass.svg" alt="" aria-hidden="true" class="compass-image" id="compassImage" />

        <div id="compassWedges" class="compass-wedges" aria-hidden="true"></div>

        <div class="compass-arrow" id="compassArrow" aria-hidden="true">
          <svg viewBox="0 0 24 24" width="88" height="88" role="img" aria-hidden="true">
            <path d="M12 2 L16 12 L12 22 L8 12 Z" fill="currentColor" opacity="0.95" />
            <circle cx="12" cy="12" r="3" fill="white" />
          </svg>
        </div>

        <div id="compassRing" class="compass-ring" aria-hidden="false"></div>
      </div>

      <p class="hero-intro">Find your current wellness mode: pick a direction or choose a card below.</p>
    </section>

    <section class="modes-section" aria-label="Wellness Modes">
      <h2 class="section-title">Choose Your Mode</h2>
      <div class="modes-grid" id="modesGrid" role="list">
        <noscript>
          <p class="no-js-message">Please enable JavaScript to view the wellness modes.</p>
        </noscript>
      </div>

      <div class="quick-wins-under" style="text-align:center;margin-top:14px;">
        <button id="quickWinsLink" class="nav-btn">Open Quick Wins</button>
        <p class="quick-wins-note" style="margin-top:8px;color:var(--text-secondary);font-size:0.95rem;">
          Quick Wins are quick, single-step actions available from the Quick Wins dialog.
        </p>
      </div>
    </section>

    <footer class="app-footer">
      <div class="ad-slot" aria-label="Advertisement">
        <p class="ad-placeholder">Ad Placeholder</p>
      </div>
      <p class="footer-text">
        <small>&copy; 2025 Evolution of Wellness â€” The Reset Compass</small>
      </p>
    </footer>
  </main>

  <!-- Mode Detail Dialog -->
  <dialog id="modeDialog" class="mode-dialog" aria-labelledby="modeDialogTitle">
    <div class="dialog-content">
      <button class="dialog-close" aria-label="Close dialog">&times;</button>

      <div class="mode-header">
        <h2 id="modeDialogTitle" class="mode-title"></h2>
        <p id="dialogModeDescription" class="mode-description"></p>
      </div>

      <div class="mode-actions">
        <h3>Activities</h3>
        <ul id="dialogQuickWins" class="quick-wins-list" role="list"></ul>

        <p class="mode-note-help">Select one or more activities. Add optional notes per selected activity before completing.</p>
      </div>

      <div class="dialog-actions">
        <button id="startResetBtn" class="btn-primary" disabled>Complete Selected</button>
        <button class="btn-secondary dialog-cancel">Cancel</button>
      </div>
    </div>
  </dialog>

  <!-- Quick Wins Dialog (full list; opened from header Quick Wins button only) -->
  <dialog id="quickWinsDialog" class="mode-dialog" aria-labelledby="quickWinsTitle">
    <div class="dialog-content">
      <button class="dialog-close" aria-label="Close dialog">&times;</button>
      <h2 id="quickWinsTitle">Quick Wins</h2>
      <p class="mode-description">Short, immediate activities you can do right now. Select one or more and mark them complete.</p>
      <ul id="globalQuickWins" class="quick-wins-list" role="list"></ul>

      <div class="dialog-actions">
        <button id="startQuickWinBtn" class="btn-primary" disabled>Complete Selected</button>
        <button class="btn-secondary dialog-cancel">Close</button>
      </div>
    </div>
  </dialog>

  <!-- History Dialog -->
  <dialog id="historyDialog" class="history-dialog" aria-labelledby="historyDialogTitle">
    <div class="dialog-content">
      <button class="dialog-close" aria-label="Close dialog">&times;</button>
      <h2 id="historyDialogTitle">Your Reset History</h2>

      <div id="historyStats" class="history-stats"></div>
      <div id="historyTimeline" class="history-timeline"></div>

      <div class="dialog-actions">
        <button id="exportHistoryBtn" class="btn-secondary">Export JSON</button>
        <button id="clearHistoryBtn" class="btn-danger">Clear History</button>
        <button class="btn-secondary dialog-cancel">Close</button>
      </div>
    </div>
  </dialog>
</body>
</html>